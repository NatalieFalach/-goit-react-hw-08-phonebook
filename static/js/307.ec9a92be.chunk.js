"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[307],{5307:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var r=t(9439),a="ContactList_contactItem__ppNQ5",o="ContactList_modalBody__-yyZ-",i=t(9434),s=t(3634),c=t(6916),l=function(e){return e.contacts.items},u=function(e){return e.contacts.isLoading},d=function(e){return e.contacts.error},m=function(e){return e.filter},h=function(e){return e.contacts.items.length>0},x=(0,c.P1)([l,m],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),f=t(493),p=t(5021),j=t(653),b=t(6259),C=t(3044),v=t(7247),Z=t(6278),g=t(9333),_=t(4554),y=t(5803),w=t(7195),k=t(4082),L=t(2791),E="ContactForm_errorMessage__HbfEx",I=t(5705),S=t(5282),T=(t(7427),t(2157)),F=t(6151),N=t(1413),W=t(5987),A=t(8436),B=t(184),G=["onChange"],P=L.forwardRef((function(e,n){var t=e.onChange,r=(0,W.Z)(e,G);return(0,B.jsx)(A.oc,(0,N.Z)((0,N.Z)({},r),{},{mask:"+({000}) 00 000-00-00",definitions:{"#":/[1-9]/},inputRef:n,onAccept:function(n){return t({target:{name:e.name,value:n}})},overwrite:!0}))})),M=S.object().shape({name:S.string().max(30).required(),number:S.string().phone().required()}),R=function(e){var n=e.editContact,t=e.closeEditModal,a=(0,i.I0)(),o=(0,i.v9)(l),c=(0,L.useState)(""),u=(0,r.Z)(c,2),d=u[0],m=u[1],h=(0,I.TA)({initialValues:{name:n?n.name:"",number:n?n.number:""},validationSchema:M,onSubmit:function(e,r){var i=r.resetForm;m("");var c=e.name.toLowerCase().trim();o.some((function(e){return e.name.toLocaleLowerCase()===c}))?m("".concat(c," is alredy in your contact list")):n?(a(s.updateContact({id:n.id,values:e})),t(),i()):(a(s.addContact(e)),i())}});return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(_.Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"20vh",children:(0,B.jsxs)("form",{onSubmit:h.handleSubmit,autoComplete:"off",children:[(0,B.jsx)(T.Z,{fullWidth:!0,id:"name",name:"name",label:"Enter your contact name",value:h.values.name,onChange:h.handleChange,error:h.touched.name&&Boolean(h.errors.name),helperText:h.touched.name&&h.errors.name,sx:{marginTop:"15px"}}),(0,B.jsx)(T.Z,{InputProps:{inputComponent:P},fullWidth:!0,id:"number",name:"number",label:"Enter phone number",value:h.values.number,onChange:h.handleChange,error:h.touched.number&&Boolean(h.errors.number),helperText:h.touched.number&&h.errors.number,sx:{marginTop:"15px"}}),d&&(0,B.jsx)("div",{className:E,children:d}),(0,B.jsx)(F.Z,{color:"primary",variant:"contained",fullWidth:!0,type:"submit",sx:{marginTop:"15px"},children:n?"Edit Contact":"Add Contact"})]})})})},q=function(){var e=(0,L.useState)(!1),n=(0,r.Z)(e,2),t=n[0],c=n[1],l=(0,L.useState)(null),u=(0,r.Z)(l,2),d=u[0],m=u[1],h=function(e){c((function(e){return!e})),m(e)},E=(0,i.I0)(),I=(0,i.v9)(x);return(0,B.jsxs)("div",{children:[(0,B.jsx)(f.Z,{dense:!0,children:I.map((function(e){return(0,B.jsxs)(p.ZP,{sx:{p:0},children:[(0,B.jsx)(j.Z,{children:(0,B.jsx)(C.Z,{children:(0,B.jsx)(y.Z,{color:"secondary"})})}),(0,B.jsx)(b.Z,{className:a,sx:{flexGrow:2,flexBasis:"100%"},primary:e.name,secondary:"".concat(e.number)}),(0,B.jsx)(Z.Z,{disableGutters:!0,children:(0,B.jsx)(g.Z,{sx:{marginLeft:"15px"},children:(0,B.jsx)(w.Z,{onClick:function(){return h(e)},color:"info"})})}),(0,B.jsx)(Z.Z,{disableGutters:!0,children:(0,B.jsx)(g.Z,{sx:{marginLeft:"10px"},children:(0,B.jsx)(v.Z,{onClick:function(){return n=e.id,void E(s.deleteContact(n));var n},color:"info"})})})]},e.id)}))}),(0,B.jsx)(k.Z,{open:t,onClose:h,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,B.jsx)(_.Z,{className:o,children:d&&(0,B.jsx)(R,{editContact:d,closeEditModal:h})})})]})},H=t(4808),Q=t(3466),J=t(2167),K=function(){var e=(0,i.I0)(),n=(0,i.v9)(m);return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(T.Z,{id:"input-with-icon-textfield",label:"Search for contacts",onChange:function(n){e((0,H.T)(n.target.value.toLowerCase()))},value:n,InputProps:{startAdornment:(0,B.jsx)(Q.Z,{position:"start",children:(0,B.jsx)(J.Z,{})})},fullWidth:!0,sx:{marginTop:"50px"}})})},V="Contacts_wrapper__s7EJR",Y="Contacts_phonebook__G9bQK",z="Contacts_headerColor__FwFbY",D=t(3239);function O(){var e=(0,i.I0)(),n=(0,i.v9)(u),t=(0,i.v9)(h),r=(0,i.v9)(d);return(0,L.useEffect)((function(){e(s.fetchContacts())}),[e]),(0,B.jsxs)("div",{className:V,children:[(0,B.jsxs)("h2",{className:Y,children:["Welcome to the ",(0,B.jsx)("span",{className:z,children:"fone"}),"book"]}),(0,B.jsx)(R,{}),t&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(K,{}),n&&!r&&(0,B.jsx)(D.Z,{sx:{display:"block",margin:"20px auto"},color:"inherit"}),(0,B.jsx)(q,{})]})]})}}}]);
//# sourceMappingURL=307.ec9a92be.chunk.js.map